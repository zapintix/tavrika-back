version: "3.9"

services:
  redis:
    image: redis:7-alpine
    container_name: reservation-redis
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    networks:
      - tavrika

  api:
  build:
    context: .
    dockerfile: Dockerfile.api
  container_name: reservation-api
  env_file:
    - .env
  depends_on:
    - redis
  restart: unless-stopped
  ports:
    - "8000:8000"
  networks:
    - tavrika

bot:
  build:
    context: .
    dockerfile: Dockerfile.bot
  container_name: reservation-bot
  env_file:
    - .env
  depends_on:
    - redis
  restart: unless-stopped
  networks:
    - tavrika

